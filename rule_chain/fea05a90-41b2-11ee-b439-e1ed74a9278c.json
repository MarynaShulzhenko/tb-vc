{
  "entityType" : "RULE_CHAIN",
  "entity" : {
    "additionalInfo" : {
      "description" : ""
    },
    "configuration" : null,
    "debugMode" : false,
    "externalId" : {
      "entityType" : "RULE_CHAIN",
      "id" : "fea05a90-41b2-11ee-b439-e1ed74a9278c"
    },
    "firstRuleNodeId" : null,
    "id" : {
      "entityType" : "RULE_CHAIN",
      "id" : "fea05a90-41b2-11ee-b439-e1ed74a9278c"
    },
    "name" : "all-nodes12",
    "root" : false,
    "type" : "CORE"
  },
  "metaData" : {
    "connections" : null,
    "firstNodeIndex" : null,
    "nodes" : [ {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 265,
        "layoutY" : 9
      },
      "configuration" : {
        "version" : 0
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff1c1a40-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.filter.TbAssetTypeSwitchNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 262,
        "layoutY" : 67
      },
      "configuration" : {
        "alarmStatusList" : [ "ACTIVE_ACK", "ACTIVE_UNACK" ]
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff1cdd90-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.filter.TbCheckAlarmStatusNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 262,
        "layoutY" : 126
      },
      "configuration" : {
        "messageNames" : [ "test" ],
        "metadataNames" : [ "test" ],
        "checkAllKeys" : true
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff1d79d0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.filter.TbCheckMessageNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 259,
        "layoutY" : 179
      },
      "configuration" : {
        "checkForSingleEntity" : true,
        "direction" : "TO",
        "entityType" : "DEVICE",
        "entityId" : "40c887d0-3835-11ee-b6c5-dd8cce90d040",
        "relationType" : "Contains"
      },
      "configurationVersion" : 1,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff1e1610-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.filter.TbCheckRelationNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 261,
        "layoutY" : 234
      },
      "configuration" : {
        "version" : 0
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff1e8b40-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.filter.TbDeviceTypeSwitchNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 261,
        "layoutY" : 288
      },
      "configuration" : {
        "originatorTypes" : [ "DEVICE" ]
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff1f2780-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.filter.TbOriginatorTypeFilterNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 260,
        "layoutY" : 344
      },
      "configuration" : {
        "version" : 0
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff1f9cb0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.filter.TbOriginatorTypeSwitchNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 261,
        "layoutY" : 400
      },
      "configuration" : {
        "latitudeKeyName" : "latitude",
        "longitudeKeyName" : "longitude",
        "perimeterType" : "POLYGON",
        "fetchPerimeterInfoFromMessageMetadata" : true,
        "perimeterKeyName" : "ss_perimeter",
        "polygonsDefinition" : null,
        "centerLatitude" : null,
        "centerLongitude" : null,
        "range" : null,
        "rangeUnit" : null
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff212350-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.geo.TbGpsGeofencingFilterNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 264,
        "layoutY" : 457
      },
      "configuration" : {
        "messageTypes" : [ "POST_ATTRIBUTES_REQUEST", "POST_TELEMETRY_REQUEST", "TO_SERVER_RPC_REQUEST" ]
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff219880-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.filter.TbMsgTypeFilterNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 263,
        "layoutY" : 513
      },
      "configuration" : {
        "version" : 0
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff220db0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.filter.TbMsgTypeSwitchNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 262,
        "layoutY" : 569
      },
      "configuration" : {
        "scriptLang" : "TBEL",
        "jsScript" : "return msg.temperature > 20;",
        "tbelScript" : "return msg.temperature > 20;"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff22a9f0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.filter.TbJsFilterNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 258,
        "layoutY" : 622
      },
      "configuration" : {
        "scriptLang" : "TBEL",
        "jsScript" : "function nextRelation(metadata, msg) {\n    return ['one','nine'];\n}\nif(msgType === 'POST_TELEMETRY_REQUEST') {\n    return ['two'];\n}\nreturn nextRelation(metadata, msg);",
        "tbelScript" : "function nextRelation(metadata, msg) {\n    return ['one','nine'];\n}\nif(msgType == 'POST_TELEMETRY_REQUEST') {\n    return ['two'];\n}\nreturn nextRelation(metadata, msg);"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff22f810-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.filter.TbJsSwitchNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 51,
        "layoutY" : 203
      },
      "configuration" : {
        "inputValueKey" : "pulseCounter",
        "outputValueKey" : "delta",
        "useCache" : true,
        "addPeriodBetweenMsgs" : true,
        "periodValueKey" : "periodInMs",
        "round" : 1,
        "tellFailureIfDeltaIsNegative" : true
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff236d40-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.metadata.CalculateDeltaNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 51,
        "layoutY" : 260
      },
      "configuration" : {
        "dataMapping" : {
          "temperature" : "tempo"
        },
        "dataToFetch" : "LATEST_TELEMETRY",
        "fetchTo" : "METADATA"
      },
      "configurationVersion" : 1,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff247eb0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.metadata.TbGetCustomerAttributeNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 42,
        "layoutY" : 317
      },
      "configuration" : {
        "detailsList" : [ "ID", "TITLE", "COUNTRY" ],
        "fetchTo" : "METADATA"
      },
      "configurationVersion" : 1,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff254200-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.metadata.TbGetCustomerDetailsNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 44,
        "layoutY" : 370
      },
      "configuration" : {
        "fetchTo" : "METADATA"
      },
      "configurationVersion" : 1,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff267a80-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.metadata.TbFetchDeviceCredentialsNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 44,
        "layoutY" : 429
      },
      "configuration" : {
        "tellFailureIfAbsent" : true,
        "clientAttributeNames" : [ "test" ],
        "sharedAttributeNames" : [ "test" ],
        "serverAttributeNames" : [ "test" ],
        "latestTsKeyNames" : [ "test" ],
        "getLatestValueWithTs" : true,
        "fetchTo" : "METADATA"
      },
      "configurationVersion" : 1,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff282830-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.metadata.TbGetAttributesNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 43,
        "layoutY" : 485
      },
      "configuration" : {
        "ignoreNullStrings" : true,
        "dataMapping" : {
          "name" : "originatorName",
          "type" : "originatorType",
          "test" : "test"
        },
        "fetchTo" : "METADATA"
      },
      "configurationVersion" : 1,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff28eb80-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.metadata.TbGetOriginatorFieldsNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 38,
        "layoutY" : 539
      },
      "configuration" : {
        "latestTsKeyNames" : [ "test" ],
        "aggregation" : "NONE",
        "fetchMode" : "FIRST",
        "orderBy" : "ASC",
        "limit" : 1000,
        "useMetadataIntervalPatterns" : true,
        "startInterval" : 2,
        "startIntervalTimeUnit" : "MINUTES",
        "endInterval" : 1,
        "endIntervalTimeUnit" : "MINUTES",
        "startIntervalPattern" : "test",
        "endIntervalPattern" : "test"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff2b0e60-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.metadata.TbGetTelemetryNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 42,
        "layoutY" : 596
      },
      "configuration" : {
        "relationsQuery" : {
          "fetchLastLevelOnly" : true,
          "direction" : "FROM",
          "maxLevel" : 1,
          "filters" : [ {
            "relationType" : "Contains",
            "entityTypes" : [ ]
          }, {
            "relationType" : "Manages",
            "entityTypes" : [ "USER" ]
          }, {
            "relationType" : "Manages",
            "entityTypes" : [ "TENANT" ]
          } ]
        },
        "dataMapping" : {
          "temperature" : "tempo"
        },
        "dataToFetch" : "LATEST_TELEMETRY",
        "fetchTo" : "METADATA"
      },
      "configurationVersion" : 1,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff2baaa0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.metadata.TbGetRelatedAttributeNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 40,
        "layoutY" : 653
      },
      "configuration" : {
        "deviceRelationsQuery" : {
          "fetchLastLevelOnly" : true,
          "direction" : "FROM",
          "maxLevel" : 1,
          "relationType" : "Contains",
          "deviceTypes" : [ "default" ]
        },
        "tellFailureIfAbsent" : true,
        "clientAttributeNames" : [ "test" ],
        "sharedAttributeNames" : [ "test" ],
        "serverAttributeNames" : [ "test" ],
        "latestTsKeyNames" : [ "test" ],
        "getLatestValueWithTs" : true,
        "fetchTo" : "METADATA"
      },
      "configurationVersion" : 1,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff2c46e0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.metadata.TbGetDeviceAttrNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 41,
        "layoutY" : 713
      },
      "configuration" : {
        "dataMapping" : {
          "temperature" : "tempo",
          "test" : "test"
        },
        "dataToFetch" : "LATEST_TELEMETRY",
        "fetchTo" : "METADATA"
      },
      "configurationVersion" : 1,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff2cbc10-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.metadata.TbGetTenantAttributeNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 40,
        "layoutY" : 769
      },
      "configuration" : {
        "detailsList" : [ "ID", "COUNTRY", "TITLE", "STATE" ],
        "fetchTo" : "METADATA"
      },
      "configurationVersion" : 1,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff2d3140-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.metadata.TbGetTenantDetailsNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 482,
        "layoutY" : 6
      },
      "configuration" : {
        "originatorSource" : "CUSTOMER",
        "relationsQuery" : {
          "direction" : "FROM",
          "maxLevel" : 1,
          "filters" : [ {
            "relationType" : "Contains",
            "entityTypes" : [ ]
          } ],
          "fetchLastLevelOnly" : false
        },
        "entityType" : null,
        "entityNamePattern" : null
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff2dcd80-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.transform.TbChangeOriginatorNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 485,
        "layoutY" : 61
      },
      "configuration" : {
        "keys" : [ "test" ],
        "copyFrom" : "DATA"
      },
      "configurationVersion" : 2,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff2f0600-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.transform.TbCopyKeysNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 486,
        "layoutY" : 117
      },
      "configuration" : {
        "interval" : 60,
        "strategy" : "FIRST",
        "outMsgType" : null,
        "maxPendingMsgs" : 100,
        "maxRetries" : 3
      },
      "configurationVersion" : 1,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff308ca0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.deduplication.TbMsgDeduplicationNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 487,
        "layoutY" : 177
      },
      "configuration" : {
        "keys" : [ "test" ],
        "deleteFrom" : "DATA"
      },
      "configurationVersion" : 2,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff314ff0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.transform.TbDeleteKeysNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 486,
        "layoutY" : 232
      },
      "configuration" : {
        "searchEntityGroupForTenantOnly" : true,
        "groupType" : "USER",
        "groupName" : "All",
        "considerMessageOriginatorAsAGroupOwner" : false
      },
      "configurationVersion" : 1,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff31ec30-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.transform.TbDuplicateMsgToGroupByNameNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 487,
        "layoutY" : 287
      },
      "configuration" : {
        "relationsQuery" : {
          "fetchLastLevelOnly" : true,
          "direction" : "FROM",
          "maxLevel" : 1,
          "filters" : [ {
            "relationType" : "Contains",
            "entityTypes" : [ ]
          }, {
            "relationType" : "test",
            "entityTypes" : [ ]
          } ]
        }
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff328870-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.transform.TbDuplicateMsgToRelatedNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 490,
        "layoutY" : 345
      },
      "configuration" : {
        "entityGroupId" : null,
        "entityGroupIsMessageOriginator" : true
      },
      "configurationVersion" : 1,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff334bc0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.transform.TbDuplicateMsgToGroupNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 489,
        "layoutY" : 405
      },
      "configuration" : {
        "jsonPath" : "$test"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff33e800-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.transform.TbJsonPathNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 486,
        "layoutY" : 461
      },
      "configuration" : {
        "renameKeysMapping" : {
          "temp" : "temperature",
          "test" : "test4444"
        },
        "renameIn" : "DATA"
      },
      "configurationVersion" : 2,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff34ab50-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.transform.TbRenameKeysNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 486,
        "layoutY" : 516
      },
      "configuration" : {
        "scriptLang" : "TBEL",
        "jsScript" : "return {msg: msg, metadata: metadata, msgType: msgType};",
        "tbelScript" : "return {msg: msg, metadata: metadata, msgType: msgType};"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff356ea0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.transform.TbTransformMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 487,
        "layoutY" : 573
      },
      "configuration" : {
        "version" : 0
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff365900-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.transform.TbSplitArrayMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "testtest",
        "layoutX" : 487,
        "layoutY" : 633
      },
      "configuration" : {
        "fromTemplate" : "info@testmail.org",
        "toTemplate" : "test@test.test",
        "ccTemplate" : "test",
        "bccTemplate" : "test",
        "subjectTemplate" : "Device ${deviceType} temperature high",
        "mailBodyType" : "false",
        "isHtmlTemplate" : null,
        "bodyTemplate" : "Device ${deviceName} has high temperature ${temp}\ntesttesttesttesttest"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff374360-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.mail.TbMsgToEmailNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 260,
        "layoutY" : 676
      },
      "configuration" : {
        "direction" : "FROM",
        "relationType" : "Manages",
        "deduplicationInSec" : 10,
        "aggMappings" : [ {
          "source" : "temperature",
          "sourceScope" : "LATEST_TELEMETRY",
          "defaultValue" : 0,
          "target" : "latestAvgTemperature",
          "aggFunction" : "AVG",
          "filter" : null
        }, {
          "sourceScope" : "LATEST_TELEMETRY",
          "source" : "test",
          "defaultValue" : 0,
          "aggFunction" : "AVG",
          "target" : "test14",
          "filter" : {
            "clientAttributeNames" : [ "test" ],
            "sharedAttributeNames" : [ "test" ],
            "serverAttributeNames" : [ "test" ],
            "latestTsKeyNames" : [ "test" ],
            "scriptLang" : "TBEL",
            "filterFunction" : "return true;",
            "tbelFilterFunction" : "return true;"
          }
        } ],
        "outMsgType" : "POST_TELEMETRY_REQUEST"
      },
      "configurationVersion" : 1,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff3806b0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.analytics.latest.telemetry.TbAggLatestTelemetryNodeV2"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 255,
        "layoutY" : 728
      },
      "configuration" : {
        "periodValue" : 5,
        "periodTimeUnit" : "MINUTES",
        "outMsgType" : "POST_TELEMETRY_REQUEST",
        "parentEntitiesQuery" : {
          "type" : "group",
          "entityGroupId" : {
            "entityType" : "ENTITY_GROUP",
            "id" : "40c887d0-3835-11ee-b6c5-dd8cce90d040"
          }
        },
        "aggMappings" : [ {
          "source" : "temperature",
          "sourceScope" : "LATEST_TELEMETRY",
          "defaultValue" : 0,
          "target" : "latestAvgTemperature",
          "aggFunction" : "AVG",
          "filter" : null
        }, {
          "sourceScope" : "LATEST_TELEMETRY",
          "source" : "test",
          "defaultValue" : 0,
          "aggFunction" : "AVG",
          "target" : "test78",
          "filter" : {
            "clientAttributeNames" : [ "test" ],
            "sharedAttributeNames" : [ "test" ],
            "serverAttributeNames" : [ "test" ],
            "latestTsKeyNames" : [ "test" ],
            "scriptLang" : "TBEL",
            "filterFunction" : "return true;",
            "tbelFilterFunction" : "return true;"
          }
        } ]
      },
      "configurationVersion" : 2,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff38ca00-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test1111",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.analytics.latest.telemetry.TbAggLatestTelemetryNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 253,
        "layoutY" : 780
      },
      "configuration" : {
        "inputValueKey" : "temperature",
        "outputValueKey" : "avgHourlyTemperature",
        "mathFunction" : "AVG",
        "aggIntervalType" : "HOUR",
        "timeZoneId" : "Europe/Kiev",
        "aggIntervalValue" : 1,
        "aggIntervalTimeUnit" : "HOURS",
        "intervalPersistencePolicy" : "ON_EACH_CHECK_AFTER_INTERVAL_END",
        "outMsgType" : "POST_TELEMETRY_REQUEST",
        "intervalCheckValue" : 1,
        "intervalCheckTimeUnit" : "MINUTES",
        "statePersistencePolicy" : "ON_EACH_CHANGE",
        "statePersistenceValue" : 1,
        "statePersistenceTimeUnit" : "MINUTES",
        "autoCreateIntervals" : true,
        "periodValue" : 5,
        "periodTimeUnit" : "MINUTES",
        "parentEntitiesQuery" : {
          "type" : "group",
          "entityGroupId" : {
            "entityType" : "ENTITY_GROUP",
            "id" : "40c887d0-3835-11ee-b6c5-dd8cce90d040"
          }
        }
      },
      "configurationVersion" : 2,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff3a0280-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.analytics.incoming.TbSimpleAggMsgNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 258,
        "layoutY" : 830
      },
      "configuration" : {
        "alarmsCountMappings" : [ {
          "target" : "alarmsCount",
          "typesList" : null,
          "severityList" : null,
          "statusList" : null,
          "latestInterval" : 0
        }, {
          "target" : "test",
          "latestInterval" : 101017000,
          "typesList" : [ "test" ],
          "severityList" : [ "CRITICAL" ],
          "statusList" : [ "ACTIVE_ACK" ]
        } ],
        "countAlarmsForPropagationEntities" : true,
        "propagationEntityTypes" : [ "ASSET", "DEVICE" ],
        "outMsgType" : "POST_TELEMETRY_REQUEST"
      },
      "configurationVersion" : 2,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff3ac5d0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.analytics.latest.alarm.TbAlarmsCountNodeV2"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 257,
        "layoutY" : 882
      },
      "configuration" : {
        "periodValue" : 5,
        "periodTimeUnit" : "MINUTES",
        "outMsgType" : "POST_TELEMETRY_REQUEST",
        "countAlarmsForChildEntities" : true,
        "parentEntitiesQuery" : {
          "type" : "group",
          "entityGroupId" : {
            "entityType" : "ENTITY_GROUP",
            "id" : "e30a1600-4585-11ee-a7c8-6f8a117db57d"
          }
        },
        "alarmsCountMappings" : [ {
          "target" : "alarmsCount",
          "typesList" : null,
          "severityList" : null,
          "statusList" : null,
          "latestInterval" : 0
        }, {
          "target" : "test",
          "latestInterval" : 101287000,
          "typesList" : [ "test" ],
          "severityList" : [ "CRITICAL" ],
          "statusList" : [ "CLEARED_UNACK" ]
        } ]
      },
      "configurationVersion" : 2,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff3b6210-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : "Main",
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.analytics.latest.alarm.TbAlarmsCountNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 485,
        "layoutY" : 683
      },
      "configuration" : {
        "version" : 0
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff3c2560-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.flow.TbAckNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 483,
        "layoutY" : 733
      },
      "configuration" : { },
      "configurationVersion" : 1,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff3ce8b0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : "HighPriority",
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.flow.TbCheckpointNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 491,
        "layoutY" : 782
      },
      "configuration" : {
        "version" : 0
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff3d5de0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.flow.TbRuleChainOutputNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 488,
        "layoutY" : 831
      },
      "configuration" : {
        "ruleChainId" : "e32b3290-4585-11ee-a7c8-6f8a117db57d"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff3dfa20-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.flow.TbRuleChainInputNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 692,
        "layoutY" : 4
      },
      "configuration" : {
        "groupNamePattern" : "test",
        "createGroupIfNotExists" : true,
        "removeFromCurrentGroups" : true,
        "groupCacheExpiration" : 3132
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff3ebd70-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.action.TbAddToGroupNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 696,
        "layoutY" : 63
      },
      "configuration" : {
        "ownerType" : "CUSTOMER",
        "ownerNamePattern" : "test",
        "createOwnerIfNotExists" : true,
        "ownerCacheExpiration" : 301
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff3f59b0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.action.TbChangeOwnerNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 693,
        "layoutY" : 116
      },
      "configuration" : {
        "scriptLang" : "TBEL",
        "alarmDetailsBuildJs" : "var details = {};\nif (metadata.prevAlarmDetails) {\n    details = JSON.parse(metadata.prevAlarmDetails);\n    //remove prevAlarmDetails from metadata\n    delete metadata.prevAlarmDetails;\n    //now metadata is the same as it comes IN this rule node\n}\n\n\nreturn details;",
        "alarmDetailsBuildTbel" : "var details = {};\nif (metadata.prevAlarmDetails != null) {\n    details = JSON.parse(metadata.prevAlarmDetails);\n    //remove prevAlarmDetails from metadata\n    metadata.remove('prevAlarmDetails');\n    //now metadata is the same as it comes IN this rule node testtesttesttesttesttesttesttest\n}\n\n\nreturn details;",
        "alarmType" : "General Alarm"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff3fcee0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.action.TbClearAlarmNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 693,
        "layoutY" : 169
      },
      "configuration" : {
        "version" : 0
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff417c90-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.action.TbCopyAttributesToEntityViewNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 698,
        "layoutY" : 224
      },
      "configuration" : {
        "scriptLang" : "TBEL",
        "alarmDetailsBuildJs" : "var details = {};\nif (metadata.prevAlarmDetails) {\n    details = JSON.parse(metadata.prevAlarmDetails);\n    //remove prevAlarmDetails from metadata\n    delete metadata.prevAlarmDetails;\n    //now metadata is the same as it comes IN this rule node\n}\n\n\nreturn details;",
        "alarmDetailsBuildTbel" : "var details = {};\nif (metadata.prevAlarmDetails != null) {\n    details = JSON.parse(metadata.prevAlarmDetails);\n    //remove prevAlarmDetails from metadata\n    metadata.remove('prevAlarmDetails');\n    //now metadata is the same as it comes IN this rule node\n}\n\n\nreturn details;",
        "useMessageAlarmData" : true,
        "overwriteAlarmDetails" : true,
        "alarmType" : "General Alarm",
        "severity" : "CRITICAL",
        "propagate" : false,
        "relationTypes" : [ ],
        "propagateToOwner" : false,
        "propagateToOwnerHierarchy" : false,
        "propagateToTenant" : false,
        "dynamicSeverity" : false
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff42b510-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.action.TbCreateAlarmNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 694,
        "layoutY" : 284
      },
      "configuration" : {
        "direction" : "FROM",
        "entityType" : "DEVICE",
        "entityNamePattern" : "test",
        "entityTypePattern" : "test",
        "relationType" : "Contains",
        "createEntityIfNotExists" : true,
        "removeCurrentRelations" : true,
        "changeOriginatorToRelatedEntity" : true,
        "entityCacheExpiration" : 303
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff432a40-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.action.TbCreateRelationNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 700,
        "layoutY" : 335
      },
      "configuration" : {
        "useMetadataPeriodInSecondsPatterns" : true,
        "periodInSeconds" : 60,
        "periodInSecondsPattern" : "test",
        "maxPendingMsgs" : 998
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff43c680-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.delay.TbMsgDelayNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 705,
        "layoutY" : 393
      },
      "configuration" : {
        "scope" : "SERVER_SCOPE",
        "keys" : [ "test" ],
        "sendAttributesDeletedNotification" : true,
        "notifyDevice" : false
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff4462c0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.telemetry.TbMsgDeleteAttributesNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 699,
        "layoutY" : 451
      },
      "configuration" : {
        "deleteForSingleEntity" : true,
        "direction" : "FROM",
        "entityType" : "DEVICE",
        "entityNamePattern" : "test",
        "relationType" : "Contains",
        "entityCacheExpiration" : 299
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff463780-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.action.TbDeleteRelationNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 708,
        "layoutY" : 507
      },
      "configuration" : {
        "persistAlarmRulesState" : true,
        "fetchAlarmRulesStateOnStart" : true
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff4721e0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.profile.TbDeviceProfileNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 699,
        "layoutY" : 568
      },
      "configuration" : {
        "useSystemReportsServer" : true,
        "reportsServerEndpointUrl" : null,
        "useReportConfigFromMessage" : true,
        "reportConfig" : null
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff47be20-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.report.TbGenerateReportNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 696,
        "layoutY" : 632
      },
      "configuration" : {
        "msgCount" : 0,
        "periodInSeconds" : 60,
        "scriptLang" : "TBEL",
        "jsScript" : "var msg = { temp: 42, humidity: 77 };\nvar metadata = { data: 40 };\nvar msgType = \"POST_TELEMETRY_REQUEST\";\n\nreturn { msg: msg, metadata: metadata, msgType: msgType };",
        "tbelScript" : "var msg = { temp: 42, humidity: 77 };\nvar metadata = { data: 40 };\nvar msgType = \"POST_TELEMETRY_REQUEST\";\n\nreturn { msg: msg, metadata: metadata, msgType: msgType };",
        "originatorId" : "40c887d0-3835-11ee-b6c5-dd8cce90d040",
        "originatorType" : "DEVICE"
      },
      "configurationVersion" : 1,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff483350-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : "HighPriority",
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.debug.TbMsgGeneratorNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 698,
        "layoutY" : 684
      },
      "configuration" : {
        "latitudeKeyName" : "latitude",
        "longitudeKeyName" : "longitude",
        "perimeterType" : "POLYGON",
        "fetchPerimeterInfoFromMessageMetadata" : true,
        "perimeterKeyName" : "ss_perimeter",
        "polygonsDefinition" : null,
        "centerLatitude" : null,
        "centerLongitude" : null,
        "range" : null,
        "rangeUnit" : null,
        "minInsideDuration" : 1,
        "minOutsideDuration" : 1,
        "minInsideDurationTimeUnit" : "MINUTES",
        "minOutsideDurationTimeUnit" : "MINUTES",
        "reportPresenceStatusOnEachMessage" : false
      },
      "configurationVersion" : 1,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff48cf90-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.geo.TbGpsGeofencingActionNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 702,
        "layoutY" : 737
      },
      "configuration" : {
        "integrationId" : "6a8d30f0-40cf-11ee-a50c-df0ab19cf751"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff4944c0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.integration.TbIntegrationDownlinkNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 700,
        "layoutY" : 793
      },
      "configuration" : {
        "scriptLang" : "TBEL",
        "jsScript" : "return '\\nIncoming message:\\n' + JSON.stringify(msg) + '\\nIncoming metadata:\\n' + JSON.stringify(metadata);",
        "tbelScript" : "return '\\nIncoming message:\\n' + JSON.stringify(msg) + '\\nIncoming metadata:\\n' + JSON.stringify(metadata);"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff49e100-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.action.TbLogNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 702,
        "layoutY" : 891
      },
      "configuration" : {
        "telemetryPrefix" : "messageCount",
        "interval" : 1
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff4a5630-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.action.TbMsgCountNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 898,
        "layoutY" : 3
      },
      "configuration" : {
        "scope" : "SERVER_SCOPE"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff4af270-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.edge.TbMsgPushToEdgeNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 904,
        "layoutY" : 59
      },
      "configuration" : {
        "groupNamePattern" : "test",
        "groupCacheExpiration" : 300
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff4b67a0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.action.TbRemoveFromGroupNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 908,
        "layoutY" : 115
      },
      "configuration" : {
        "serviceIdMetaDataAttribute" : "serviceId",
        "requestIdMetaDataAttribute" : "requestUUID"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff4bdcd0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.rest.TbSendRestApiCallReplyNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 902,
        "layoutY" : 183
      },
      "configuration" : {
        "timeoutInSeconds" : 64
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff4c7910-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.rpc.TbSendRPCRequestNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 902,
        "layoutY" : 242
      },
      "configuration" : {
        "scope" : "SERVER_SCOPE",
        "notifyDevice" : false,
        "sendAttributesUpdatedNotification" : true,
        "updateAttributesOnlyOnValueChange" : false
      },
      "configurationVersion" : 2,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff4cee40-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.telemetry.TbMsgAttributesNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 904,
        "layoutY" : 308
      },
      "configuration" : {
        "defaultTTL" : 15,
        "skipLatestPersistence" : true,
        "useServerTs" : true
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff4d6370-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.telemetry.TbMsgTimeseriesNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 905,
        "layoutY" : 365
      },
      "configuration" : {
        "tableName" : "test",
        "fieldsMapping" : {
          "test" : "test"
        }
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff4dd8a0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.action.TbSaveToCustomCassandraTableNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 902,
        "layoutY" : 416
      },
      "configuration" : {
        "version" : 0
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff4e4dd0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.transaction.TbSynchronizationEndNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 902,
        "layoutY" : 468
      },
      "configuration" : {
        "version" : 0
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff4ec300-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.transaction.TbSynchronizationBeginNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 902,
        "layoutY" : 520
      },
      "configuration" : {
        "topicArnPattern" : "arn:aws:sns:us-east-1:123456789012:MyNewTopic",
        "accessKeyId" : "test",
        "secretAccessKey" : "test",
        "region" : "us-east-1"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff4f3830-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.aws.sns.TbSnsNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 902,
        "layoutY" : 576
      },
      "configuration" : {
        "queueType" : "STANDARD",
        "queueUrlPattern" : "https://sqs.us-east-1.amazonaws.com/123456789012/my-queue-name",
        "delaySeconds" : 3,
        "messageAttributes" : {
          "test" : "test"
        },
        "accessKeyId" : "test",
        "secretAccessKey" : "test",
        "region" : "us-east-1"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff4fad60-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.aws.sqs.TbSqsNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 898,
        "layoutY" : 631
      },
      "configuration" : {
        "topicPattern" : "devices/<device_id>/messages/events/",
        "host" : "<iot-hub-name>.azure-devices.net",
        "port" : 8883,
        "connectTimeoutSec" : 10,
        "clientId" : "test",
        "cleanSession" : true,
        "ssl" : true,
        "credentials" : {
          "type" : "sas",
          "sasKey" : "test",
          "caCert" : "{\n  \"ruleChain\": {\n    \"additionalInfo\": null,\n    \"name\": \"Root Rule Chain2\",\n    \"type\": \"CORE\",\n    \"firstRuleNodeId\": null,\n    \"root\": false,\n    \"debugMode\": false,\n    \"configuration\": null,\n    \"externalId\": null\n  },\n  \"metadata\": {\n    \"firstNodeIndex\": 9,\n    \"nodes\": [\n      {\n        \"additionalInfo\": {\n          \"layoutX\": 999,\n          \"layoutY\": 271\n        },\n        \"type\": \"org.thingsboard.rule.engine.telemetry.TbMsgTimeseriesNode\",\n        \"name\": \"Save Timeseries\",\n        \"debugMode\": false,\n        \"singletonMode\": false,\n        \"configuration\": {\n          \"defaultTTL\": 0\n        },\n        \"externalId\": null\n      },\n      {\n        \"additionalInfo\": {\n          \"layoutX\": 1000,\n          \"layoutY\": 167\n        },\n        \"type\": \"org.thingsboard.rule.engine.telemetry.TbMsgAttributesNode\",\n        \"name\": \"Save Attributes\",\n        \"debugMode\": false,\n        \"singletonMode\": false,\n        \"configuration\": {\n          \"scope\": \"CLIENT_SCOPE\",\n          \"notifyDevice\": \"false\"\n        },\n        \"externalId\": null\n      },\n      {\n        \"additionalInfo\": {\n          \"layoutX\": 566,\n          \"layoutY\": 302\n        },\n        \"type\": \"org.thingsboard.rule.engine.filter.TbMsgTypeSwitchNode\",\n        \"name\": \"Message Type Switch\",\n        \"debugMode\": false,\n        \"singletonMode\": false,\n        \"configuration\": {\n          \"version\": 0\n        },\n        \"externalId\": null\n      },\n      {\n        \"additionalInfo\": {\n          \"layoutX\": 1000,\n          \"layoutY\": 381\n        },\n        \"type\": \"org.thingsboard.rule.engine.action.TbLogNode\",\n        \"name\": \"Log RPC from Device\",\n        \"debugMode\": false,\n        \"singletonMode\": false,\n        \"configuration\": {\n          \"scriptLang\": \"TBEL\",\n          \"jsScript\": \"return '\\\\nIncoming message:\\\\n' + JSON.stringify(msg) + '\\\\nIncoming metadata:\\\\n' + JSON.stringify(metadata);\",\n          \"tbelScript\": \"return '\\\\nIncoming message:\\\\n' + JSON.stringify(msg) + '\\\\nIncoming metadata:\\\\n' + JSON.stringify(metadata);\"\n        },\n        \"externalId\": null\n      },\n      {\n        \"additionalInfo\": {\n          \"layoutX\": 1000,\n          \"layoutY\": 494\n        },\n        \"type\": \"org.thingsboard.rule.engine.action.TbLogNode\",\n        \"name\": \"Log Other\",\n        \"debugMode\": false,\n        \"singletonMode\": false,\n        \"configuration\": {\n          \"scriptLang\": \"TBEL\",\n          \"jsScript\": \"return '\\\\nIncoming message:\\\\n' + JSON.stringify(msg) + '\\\\nIncoming metadata:\\\\n' + JSON.stringify(metadata);\",\n          \"tbelScript\": \"return '\\\\nIncoming message:\\\\n' + JSON.stringify(msg) + '\\\\nIncoming metadata:\\\\n' + JSON.stringify(metadata);\"\n        },\n        \"externalId\": null\n      },\n      {\n        \"additionalInfo\": {\n          \"layoutX\": 1000,\n          \"layoutY\": 583\n        },\n        \"type\": \"org.thingsboard.rule.engine.rpc.TbSendRPCRequestNode\",\n        \"name\": \"RPC Call Request\",\n        \"debugMode\": false,\n        \"singletonMode\": false,\n        \"configuration\": {\n          \"timeoutInSeconds\": 60\n        },\n        \"externalId\": null\n      },\n      {\n        \"additionalInfo\": {\n          \"layoutX\": 255,\n          \"layoutY\": 301\n        },\n        \"type\": \"org.thingsboard.rule.engine.filter.TbOriginatorTypeFilterNode\",\n        \"name\": \"Is Entity Group\",\n        \"debugMode\": false,\n        \"singletonMode\": false,\n        \"configuration\": {\n          \"originatorTypes\": [\n            \"ENTITY_GROUP\"\n          ]\n        },\n        \"externalId\": null\n      },\n      {\n        \"additionalInfo\": {\n          \"layoutX\": 319,\n          \"layoutY\": 109\n        },\n        \"type\": \"org.thingsboard.rule.engine.filter.TbMsgTypeFilterNode\",\n        \"name\": \"Post attributes or RPC request\",\n        \"debugMode\": false,\n        \"singletonMode\": false,\n        \"configuration\": {\n          \"messageTypes\": [\n            \"POST_ATTRIBUTES_REQUEST\",\n            \"RPC_CALL_FROM_SERVER_TO_DEVICE\"\n          ]\n        },\n        \"externalId\": null\n      },\n      {\n        \"additionalInfo\": {\n          \"layoutX\": 627,\n          \"layoutY\": 108\n        },\n        \"type\": \"org.thingsboard.rule.engine.transform.TbDuplicateMsgToGroupNode\",\n        \"name\": \"Duplicate To Group Entities\",\n        \"debugMode\": false,\n        \"singletonMode\": false,\n        \"configuration\": {\n          \"entityGroupId\": null,\n          \"entityGroupIsMessageOriginator\": true\n        },\n        \"externalId\": null\n      },\n      {\n        \"additionalInfo\": {\n          \"description\": \"Process incoming messages from devices with the alarm rules defined in the device profile. Dispatch all incoming messages with \\\"Success\\\" relation type.\",\n          \"layoutX\": 137,\n          \"layoutY\": 415\n        },\n        \"type\": \"org.thingsboard.rule.engine.profile.TbDeviceProfileNode\",\n        \"name\": \"Device Profile Node\",\n        \"debugMode\": false,\n        \"singletonMode\": false,\n        \"configuration\": {\n          \"persistAlarmRulesState\": false,\n          \"fetchAlarmRulesStateOnStart\": false\n        },\n        \"externalId\": null\n      },\n      {\n        \"additionalInfo\": {\n          \"description\": \"Forwards message to the \\\"Generate Report\\\" rule chain\",\n          \"layoutX\": 1004,\n          \"layoutY\": 690\n        },\n        \"type\": \"org.thingsboard.rule.engine.flow.TbRuleChainInputNode\",\n        \"name\": \"Generate Report\",\n        \"debugMode\": false,\n        \"singletonMode\": false,\n        \"configuration\": {\n          \"ruleChainId\": \"340f3f10-3052-11ee-afc0-0770905e80c9\"\n        },\n        \"externalId\": null\n      },\n      {\n        \"additionalInfo\": {\n          \"description\": \"\",\n          \"layoutX\": 131,\n          \"layoutY\": 525\n        },\n        \"type\": \"org.thingsboard.rule.engine.debug.TbMsgGeneratorNode\",\n        \"name\": \"0\",\n        \"debugMode\": true,\n        \"singletonMode\": false,\n        \"configuration\": {\n          \"msgCount\": 0,\n          \"periodInSeconds\": 30,\n          \"scriptLang\": \"TBEL\",\n          \"jsScript\": \"var msg = { temp: 42, humidity: 77 };\\nvar metadata = { data: 40 };\\nvar msgType = \\\"POST_TELEMETRY_REQUEST\\\";\\n\\nreturn { msg: msg, metadata: metadata, msgType: msgType };\",\n          \"tbelScript\": \"var msg = { temp: 42, humidity: 77 };\\nvar metadata = { data: 40 };\\nvar msgType = \\\"POST_TELEMETRY_REQUEST\\\";\\n\\nreturn { msg: msg, metadata: metadata, msgType: msgType };\",\n          \"queueName\": null,\n          \"originatorId\": \"0a8dce90-3b42-11ee-afc0-0770905e80c9\",\n          \"originatorType\": \"DEVICE\"\n        },\n        \"externalId\": null\n      },\n      {\n        \"additionalInfo\": {\n          \"description\": \"\",\n          \"layoutX\": 107,\n          \"layoutY\": 744\n        },\n        \"type\": \"org.thingsboard.rule.engine.metadata.TbGetTenantDetailsNode\",\n        \"name\": \"00\",\n        \"debugMode\": false,\n        \"singletonMode\": false,\n        \"configuration\": {\n          \"detailsList\": [\n            \"ID\"\n          ],\n          \"addToMetadata\": false\n        },\n        \"externalId\": null\n      },\n      {\n        \"additionalInfo\": {\n          \"description\": \"\",\n          \"layoutX\": 166,\n          \"layoutY\": 661\n        },\n        \"type\": \"org.thingsboard.rule.engine.metadata.TbGetAttributesNode\",\n        \"name\": \"000\",\n        \"debugMode\": false,\n        \"singletonMode\": false,\n        \"configuration\": {\n          \"tellFailureIfAbsent\": true,\n          \"fetchToData\": false,\n          \"clientAttributeNames\": [\n            \"000\"\n          ],\n          \"sharedAttributeNames\": [\n            \"000\"\n          ],\n          \"serverAttributeNames\": [\n            \"000\"\n          ],\n          \"latestTsKeyNames\": [\n            \"000\"\n          ],\n          \"getLatestValueWithTs\": false\n        },\n        \"externalId\": null\n      }\n    ],\n    \"connections\": [\n      {\n        \"fromIndex\": 2,\n        \"toIndex\": 0,\n        \"type\": \"Post telemetry\"\n      },\n      {\n        \"fromIndex\": 2,\n        \"toIndex\": 1,\n        \"type\": \"Post attributes\"\n      },\n      {\n        \"fromIndex\": 2,\n        \"toIndex\": 3,\n        \"type\": \"RPC Request from Device\"\n      },\n      {\n        \"fromIndex\": 2,\n        \"toIndex\": 4,\n        \"type\": \"Other\"\n      },\n      {\n        \"fromIndex\": 2,\n        \"toIndex\": 5,\n        \"type\": \"RPC Request to Device\"\n      },\n      {\n        \"fromIndex\": 2,\n        \"toIndex\": 10,\n        \"type\": \"Generate Report\"\n      },\n      {\n        \"fromIndex\": 6,\n        \"toIndex\": 2,\n        \"type\": \"False\"\n      },\n      {\n        \"fromIndex\": 6,\n        \"toIndex\": 7,\n        \"type\": \"True\"\n      },\n      {\n        \"fromIndex\": 7,\n        \"toIndex\": 2,\n        \"type\": \"False\"\n      },\n      {\n        \"fromIndex\": 7,\n        \"toIndex\": 8,\n        \"type\": \"True\"\n      },\n      {\n        \"fromIndex\": 8,\n        \"toIndex\": 2,\n        \"type\": \"Success\"\n      },\n      {\n        \"fromIndex\": 9,\n        \"toIndex\": 6,\n        \"type\": \"Success\"\n      },\n      {\n        \"fromIndex\": 11,\n        \"toIndex\": 9,\n        \"type\": \"Success\"\n      }\n    ],\n    \"ruleChainConnections\": null\n  }\n}\n",
          "caCertFileName" : "root_rule_chain.json"
        }
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff5049a0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : true,
      "type" : "org.thingsboard.rule.engine.mqtt.azure.TbAzureIotHubNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 899,
        "layoutY" : 682
      },
      "configuration" : {
        "projectId" : "my-google-cloud-project-id",
        "topicName" : "my-pubsub-topic-name",
        "serviceAccountKey" : "{\n  \"ruleChain\": {\n    \"additionalInfo\": null,\n    \"name\": \"Generate Report\",\n    \"type\": \"CORE\",\n    \"firstRuleNodeId\": null,\n    \"root\": false,\n    \"debugMode\": false,\n    \"configuration\": null,\n    \"externalId\": null\n  },\n  \"metadata\": {\n    \"firstNodeIndex\": 0,\n    \"nodes\": [\n      {\n        \"additionalInfo\": {\n          \"layoutX\": 242,\n          \"layoutY\": 314\n        },\n        \"type\": \"org.thingsboard.rule.engine.report.TbGenerateReportNode\",\n        \"name\": \"Generate Report\",\n        \"debugMode\": false,\n        \"singletonMode\": false,\n        \"configuration\": {\n          \"useSystemReportsServer\": true,\n          \"reportsServerEndpointUrl\": null,\n          \"useReportConfigFromMessage\": true,\n          \"reportConfig\": {\n            \"baseUrl\": \"http://localhost:3000\",\n            \"useDashboardTimewindow\": true,\n            \"timewindow\": {\n              \"history\": {\n                \"interval\": 1000,\n                \"timewindowMs\": 86400000\n              }\n            },\n            \"namePattern\": \"report-%d{yyyy-MM-dd_HH:mm:ss}\",\n            \"type\": \"pdf\",\n            \"timezone\": \"Europe/Kiev\",\n            \"useCurrentUserCredentials\": true,\n            \"userId\": \"7c82bf30-4d61-11e8-ad73-455e6191039d\",\n            \"dashboardId\": \"62097e80-6fa0-11e8-9b36-a959bde06125\"\n          }\n        },\n        \"externalId\": null\n      },\n      {\n        \"additionalInfo\": {\n          \"layoutX\": 454,\n          \"layoutY\": 174\n        },\n        \"type\": \"org.thingsboard.rule.engine.filter.TbJsFilterNode\",\n        \"name\": \"If send email\",\n        \"debugMode\": false,\n        \"singletonMode\": false,\n        \"configuration\": {\n          \"scriptLang\": \"TBEL\",\n          \"jsScript\": \"return msg.sendEmail === true;\",\n          \"tbelScript\": \"return msg.sendEmail === true;\"\n        },\n        \"externalId\": null\n      },\n      {\n        \"additionalInfo\": {\n          \"layoutX\": 691,\n          \"layoutY\": 311\n        },\n        \"type\": \"org.thingsboard.rule.engine.transform.TbTransformMsgNode\",\n        \"name\": \"Prepare email metadata\",\n        \"debugMode\": false,\n        \"singletonMode\": false,\n        \"configuration\": {\n          \"scriptLang\": \"TBEL\",\n          \"jsScript\": \"metadata['emailFrom'] = msg.emailConfig.from;\\nmetadata['emailTo'] = msg.emailConfig.to;\\nmetadata['emailCc'] = msg.emailConfig.cc || \\\"\\\";\\nmetadata['emailBcc'] = msg.emailConfig.bcc || \\\"\\\";\\nmetadata['emailSubject'] = msg.emailConfig.subject;\\nmetadata['emailBody'] = msg.emailConfig.body;\\nmetadata['emailTimezone'] = msg.reportConfig.timezone;\\n\\nreturn {msg: msg, metadata: metadata, msgType: msgType};\",\n          \"tbelScript\": \"metadata['emailFrom'] = msg.emailConfig.from;\\nmetadata['emailTo'] = msg.emailConfig.to;\\nmetadata['emailCc'] = msg.emailConfig.cc != null ? msg.emailConfig.cc : \\\"\\\";\\nmetadata['emailBcc'] = msg.emailConfig.bcc != null ? msg.emailConfig.bcc : \\\"\\\";\\nmetadata['emailSubject'] = msg.emailConfig.subject;\\nmetadata['emailBody'] = msg.emailConfig.body;\\nmetadata['emailTimezone'] = msg.reportConfig.timezone;\\n\\nreturn {msg: msg, metadata: metadata, msgType: msgType};\"\n        },\n        \"externalId\": null\n      },\n      {\n        \"additionalInfo\": {\n          \"layoutX\": 924,\n          \"layoutY\": 166\n        },\n        \"type\": \"org.thingsboard.rule.engine.mail.TbMsgToEmailNode\",\n        \"name\": \"To report email\",\n        \"debugMode\": false,\n        \"singletonMode\": false,\n        \"configuration\": {\n          \"fromTemplate\": \"${emailFrom}\",\n          \"toTemplate\": \"${emailTo}\",\n          \"ccTemplate\": \"${emailCc}\",\n          \"bccTemplate\": \"${emailBcc}\",\n          \"subjectTemplate\": \"${emailSubject}\",\n          \"bodyTemplate\": \"${emailBody}\"\n        },\n        \"externalId\": null\n      },\n      {\n        \"additionalInfo\": {\n          \"layoutX\": 1135,\n          \"layoutY\": 313\n        },\n        \"type\": \"org.thingsboard.rule.engine.mail.TbSendEmailNode\",\n        \"name\": \"Send report\",\n        \"debugMode\": false,\n        \"singletonMode\": false,\n        \"configuration\": {\n          \"useSystemSmtpSettings\": true,\n          \"smtpHost\": \"localhost\",\n          \"smtpPort\": 25,\n          \"username\": null,\n          \"password\": null,\n          \"smtpProtocol\": \"smtp\",\n          \"timeout\": 10000,\n          \"enableTls\": false\n        },\n        \"externalId\": null\n      }\n    ],\n    \"connections\": [\n      {\n        \"fromIndex\": 0,\n        \"toIndex\": 1,\n        \"type\": \"Success\"\n      },\n      {\n        \"fromIndex\": 1,\n        \"toIndex\": 2,\n        \"type\": \"True\"\n      },\n      {\n        \"fromIndex\": 2,\n        \"toIndex\": 3,\n        \"type\": \"Success\"\n      },\n      {\n        \"fromIndex\": 3,\n        \"toIndex\": 4,\n        \"type\": \"Success\"\n      }\n    ],\n    \"ruleChainConnections\": null\n  }\n}",
        "serviceAccountKeyFileName" : "generate_report.json",
        "messageAttributes" : {
          "test" : "test"
        }
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff510cf0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.gcp.pubsub.TbPubSubNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 901,
        "layoutY" : 731
      },
      "configuration" : {
        "topicPattern" : "my-topic",
        "keyPattern" : "test",
        "bootstrapServers" : "localhost:9092",
        "retries" : 3,
        "batchSize" : 16384,
        "linger" : 0,
        "bufferMemory" : 33554432,
        "acks" : "-1",
        "keySerializer" : "org.apache.kafka.common.serialization.StringSerializer",
        "valueSerializer" : "org.apache.kafka.common.serialization.StringSerializer",
        "otherProperties" : {
          "test" : "test"
        },
        "addMetadataKeyValuesAsKafkaHeaders" : true,
        "kafkaHeadersCharset" : "UTF-16BE"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff51a930-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.kafka.TbKafkaNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 899,
        "layoutY" : 787
      },
      "configuration" : {
        "topicPattern" : "my-topic",
        "host" : "test",
        "port" : 1883,
        "connectTimeoutSec" : 10,
        "clientId" : "test",
        "appendClientIdSuffix" : true,
        "cleanSession" : true,
        "retainedMessage" : true,
        "ssl" : true,
        "credentials" : {
          "type" : "basic",
          "username" : "test",
          "password" : "test"
        }
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff5308c0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : true,
      "type" : "org.thingsboard.rule.engine.mqtt.TbMqttNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 901,
        "layoutY" : 841
      },
      "configuration" : {
        "exchangeNamePattern" : "test",
        "routingKeyPattern" : "test",
        "messageProperties" : "BASIC",
        "host" : "test",
        "port" : 5672,
        "virtualHost" : "/test",
        "username" : "guest",
        "password" : "guest",
        "automaticRecoveryEnabled" : true,
        "connectionTimeout" : 60000,
        "handshakeTimeout" : 10000,
        "clientProperties" : {
          "test" : "test"
        }
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff53cc10-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.rabbitmq.TbRabbitMqNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 904,
        "layoutY" : 895
      },
      "configuration" : {
        "restEndpointUrlPattern" : "http://localhost/api",
        "requestMethod" : "POST",
        "useSimpleClientHttpFactory" : false,
        "ignoreRequestBody" : true,
        "enableProxy" : true,
        "useSystemProxyProperties" : true,
        "proxyScheme" : null,
        "proxyHost" : null,
        "proxyPort" : 0,
        "proxyUser" : null,
        "proxyPassword" : null,
        "readTimeoutMs" : 2,
        "maxParallelRequestsCount" : 4,
        "headers" : {
          "Content-Type" : "application/json",
          "test" : "test"
        },
        "useRedisQueueForMsgPersistence" : true,
        "trimQueue" : true,
        "maxQueueSize" : null,
        "credentials" : {
          "type" : "basic",
          "username" : "test",
          "password" : "test"
        },
        "parseToPlainText" : true
      },
      "configurationVersion" : 1,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff544140-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.rest.TbRestApiCallNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 1108,
        "layoutY" : 4
      },
      "configuration" : {
        "useSystemSmtpSettings" : true,
        "smtpHost" : "localhost",
        "smtpPort" : 25,
        "username" : null,
        "password" : null,
        "smtpProtocol" : "smtp",
        "timeout" : 10000,
        "enableTls" : false,
        "tlsVersion" : "TLSv1.2",
        "enableProxy" : false,
        "proxyHost" : null,
        "proxyPort" : null,
        "proxyUser" : null,
        "proxyPassword" : null
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff552ba0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.mail.TbSendEmailNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 1112,
        "layoutY" : 59
      },
      "configuration" : {
        "templateId" : {
          "entityType" : "NOTIFICATION_TEMPLATE",
          "id" : "436b5e00-40cc-11ee-874b-e5953d9ed9f6"
        },
        "targets" : [ "40c887d0-3835-11ee-b6c5-dd8cce90d040", "40d90290-3835-11ee-b6c5-dd8cce90d040" ]
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff55c7e0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.notification.TbNotificationNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 1112,
        "layoutY" : 116
      },
      "configuration" : {
        "numbersToTemplate" : "${userPhone}",
        "smsMessageTemplate" : "Device ${deviceName} has high temperature ${temp}",
        "useSystemSmsSettings" : true,
        "smsProviderConfiguration" : null
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff568b30-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.sms.TbSendSmsNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 1118,
        "layoutY" : 235
      },
      "configuration" : {
        "numberFrom" : "test",
        "numbersTo" : "test",
        "accountSid" : "test",
        "accountToken" : "test"
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff570060-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.pe.twilio.TbTwilioSmsNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 1125,
        "layoutY" : 300
      },
      "configuration" : {
        "numberFrom" : "test",
        "numbersTo" : "test",
        "accountSid" : "test",
        "accountToken" : "test",
        "provider" : "Alice",
        "language" : "en-CA",
        "voice" : "alice",
        "pitch" : 100,
        "rate" : 100,
        "volume" : 0,
        "startPause" : 4
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff577590-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.pe.twilio.voice.TbTwilioVoiceNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 1114,
        "layoutY" : 175
      },
      "configuration" : {
        "botToken" : "xoxb-",
        "useSystemSettings" : true,
        "messageTemplate" : "Device ${deviceId}: temperature is $[temperature]",
        "conversationType" : "DIRECT",
        "conversation" : {
          "type" : "DIRECT",
          "id" : "U05BNU1R0JY",
          "name" : "mshulzhenko",
          "wholeName" : "Maryna Shulzhenko",
          "email" : null,
          "title" : "Maryna Shulzhenko"
        }
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "ff57eac0-41b2-11ee-b439-e1ed74a9278c"
      },
      "name" : "test00",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.notification.TbSlackNode"
    }, {
      "additionalInfo" : {
        "description" : "test",
        "layoutX" : 687,
        "layoutY" : 846
      },
      "configuration" : {
        "operation" : "CUSTOM",
        "arguments" : [ {
          "type" : "MESSAGE_BODY",
          "key" : "temperature",
          "name" : "x",
          "defaultValue" : "test"
        } ],
        "customFunction" : "(t - 32) / 1.8",
        "result" : {
          "type" : "MESSAGE_BODY",
          "key" : "temperatureCelsius",
          "resultValuePrecision" : 2,
          "addToBody" : false,
          "addToMetadata" : false
        }
      },
      "configurationVersion" : 0,
      "createdTime" : 0,
      "debugMode" : true,
      "externalId" : null,
      "id" : {
        "entityType" : "RULE_NODE",
        "id" : "180164c0-41b3-11ee-b439-e1ed74a9278c"
      },
      "name" : "test",
      "queueName" : null,
      "ruleChainId" : null,
      "singletonMode" : false,
      "type" : "org.thingsboard.rule.engine.math.TbMathNode"
    } ],
    "ruleChainConnections" : null
  },
  "relations" : [ ],
  "attributes" : {
    "SERVER_SCOPE" : [ ]
  }
}